# 故障闭环场景Agent

## 故障诊断Agent

### 故障诊断.主流程
1. 是否是思维链指导说明
2. 判断结果：是，跳转3， 否，跳转5
3. 生成思维链并执行
4. 跳转6
5. 故障诊断
6. 判断结果：有诊断id, 跳转8， 没有对应此故障类型诊断API，跳转7
7. 生成并执行智能诊断方案
8. 没有诊断id，返回失败
9. 报告诊断id到chatbot
10. 处理诊断过程结果，支线：跳转故障诊断.诊断报告， 故障诊断.相似案例，业务恢复，故障修复）
11. 执行下一步业务恢复Agent，故障修复Agent


### 故障诊断.诊断报告
1. 显示诊断报告下载
   
### 故障诊断.相似案例
1. 显示相似案例


## 业务恢复Agent

### 业务恢复.主流程
1. 恢复方案生成，支线：恢复方案仿真， 恢复方案执行
2. 用户介入

### 业务恢复.恢复方案仿真
1. 恢复方案仿真
2. 用户介入
   
### 业务恢复.恢复方案执行
1. 恢复方案执行
2. 处理恢复结果
3. 用户介入
4. 下一步修复验证Agent

## 故障修复Agent

### 故障修复.主流程
1. 修复方案生成，支线：修复方案仿真， 修复方案执行

### 故障修复.修复方案仿真
1. 修复方案仿真
2. 用户介入
   
### 故障修复.修复方案执行
1. 修复方案执行
2. 处理修复结果
3. 用户介入 
4. 下一步修复验证Agent

## 修复验证Agent
### 修复验证.主流程
1. 修复结果展现
2. 用户介入
3. 下一步故障总结Agent

## 故障总结Agent
### 故障总结.主流程
1. 显示故障总结
2. 故障记忆 
3. 用户介入
4. 下一步结束


